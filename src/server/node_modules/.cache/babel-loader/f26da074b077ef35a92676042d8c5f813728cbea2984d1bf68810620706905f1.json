{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sirip\\\\Desktop\\\\contentql\\\\contenttt\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\n// App.js\nimport React, { useState, useEffect } from 'react';\nimport TodoForm from './TodoForm';\nimport TodoList from './TodoList';\nimport LoginForm from './LoginForm';\nimport SignupForm from './SignupForm';\nimport axios from 'axios';\nimport './App.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = 'http://localhost:3000/api';\nfunction App() {\n  _s();\n  const [todos, setTodos] = useState([]);\n  const [authenticated, setAuthenticated] = useState(false);\n  const [showSignup, setShowSignup] = useState(true); // State to control showing signup form\n\n  useEffect(() => {\n    fetchTodos();\n    checkAuthentication();\n  }, []);\n  const fetchTodos = async () => {\n    try {\n      const response = await axios.get(`${API_BASE_URL}/todos`);\n      setTodos(response.data);\n    } catch (error) {\n      console.error('Error fetching todos:', error);\n    }\n  };\n  const checkAuthentication = async () => {\n    try {\n      const response = await axios.get(`${API_BASE_URL}/auth/check`);\n      if (response.status === 200) {\n        setAuthenticated(true);\n      } else {\n        setAuthenticated(false);\n      }\n    } catch (error) {\n      console.error('Error checking authentication:', error);\n      setAuthenticated(false);\n    }\n  };\n  const handleLogin = async credentials => {\n    try {\n      const response = await axios.post(`${API_BASE_URL}/login`, credentials);\n      if (response.status === 200) {\n        setAuthenticated(true);\n      } else {\n        console.error('Error logging in:', response.data.message);\n      }\n    } catch (error) {\n      console.error('Error logging in:', error);\n    }\n  };\n  const handleSignup = async userData => {\n    try {\n      console.log('Signup form submitted with data:', userData);\n      await axios.post(`${API_BASE_URL}/signup`, userData);\n      setShowSignup(false); // Hide signup form after successful signup\n    } catch (error) {\n      console.error('Error signing up:', error);\n    }\n  };\n  const handleLogout = async () => {\n    try {\n      await axios.post(`${API_BASE_URL}/logout`);\n      setAuthenticated(false);\n    } catch (error) {\n      console.error('Error logging out:', error);\n    }\n  };\n  const handleAddTodo = async newTodo => {\n    try {\n      const response = await axios.post(`${API_BASE_URL}/todos`, newTodo);\n      setTodos([...todos, response.data]);\n    } catch (error) {\n      console.error('Error adding todo:', error);\n    }\n  };\n  const handleDeleteTodo = async id => {\n    try {\n      await axios.delete(`${API_BASE_URL}/todos/${id}`);\n      setTodos(todos.filter(todo => todo.id !== id));\n    } catch (error) {\n      console.error('Error deleting todo:', error);\n    }\n  };\n  const handleUpdateTodo = async (id, updatedTodo) => {\n    try {\n      const response = await axios.put(`${API_BASE_URL}/todos/${id}`, updatedTodo);\n      const updatedTodos = todos.map(todo => todo.id === id ? response.data : todo);\n      setTodos(updatedTodos);\n    } catch (error) {\n      console.error('Error updating todo:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    \"align-items\": \"center\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Todo App\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), authenticated ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TodoForm, {\n        onSubmit: handleAddTodo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TodoList, {\n        todos: todos,\n        onDelete: handleDeleteTodo,\n        onUpdate: handleUpdateTodo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : showSignup ?\n    /*#__PURE__*/\n    // Conditionally render signup form\n    _jsxDEV(SignupForm, {\n      onSignup: handleSignup\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(LoginForm, {\n      onLogin: handleLogin\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"tT784iqHiTRg5divXKkYh6t9gWQ=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","TodoForm","TodoList","LoginForm","SignupForm","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE_URL","App","_s","todos","setTodos","authenticated","setAuthenticated","showSignup","setShowSignup","fetchTodos","checkAuthentication","response","get","data","error","console","status","handleLogin","credentials","post","message","handleSignup","userData","log","handleLogout","handleAddTodo","newTodo","handleDeleteTodo","id","delete","filter","todo","handleUpdateTodo","updatedTodo","put","updatedTodos","map","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onSubmit","onDelete","onUpdate","onSignup","onLogin","_c","$RefreshReg$"],"sources":["C:/Users/sirip/Desktop/contentql/contenttt/src/App.js"],"sourcesContent":["// App.js\nimport React, { useState, useEffect } from 'react';\nimport TodoForm from './TodoForm';\nimport TodoList from './TodoList';\nimport LoginForm from './LoginForm';\nimport SignupForm from './SignupForm';\nimport axios from 'axios';\nimport './App.css';\n\nconst API_BASE_URL = 'http://localhost:3000/api';\n\nfunction App() {\n  const [todos, setTodos] = useState([]);\n  const [authenticated, setAuthenticated] = useState(false);\n  const [showSignup, setShowSignup] = useState(true); // State to control showing signup form\n\n  useEffect(() => {\n    fetchTodos();\n    checkAuthentication();\n  }, []);\n\n  const fetchTodos = async () => {\n    try {\n      const response = await axios.get(`${API_BASE_URL}/todos`);\n      setTodos(response.data);\n    } catch (error) {\n      console.error('Error fetching todos:', error);\n    }\n  };\n\n  const checkAuthentication = async () => {\n    try {\n      const response = await axios.get(`${API_BASE_URL}/auth/check`);\n      if (response.status === 200) {\n        setAuthenticated(true);\n      } else {\n        setAuthenticated(false);\n      }\n    } catch (error) {\n      console.error('Error checking authentication:', error);\n      setAuthenticated(false);\n    }\n  };\n\n  const handleLogin = async (credentials) => {\n    try {\n      const response = await axios.post(`${API_BASE_URL}/login`, credentials);\n      if (response.status === 200) {\n        setAuthenticated(true);\n      } else {\n        console.error('Error logging in:', response.data.message);\n      }\n    } catch (error) {\n      console.error('Error logging in:', error);\n    }\n  };\n\n  const handleSignup = async (userData) => {\n    try {\n      console.log('Signup form submitted with data:', userData);\n      await axios.post(`${API_BASE_URL}/signup`, userData);\n      setShowSignup(false); // Hide signup form after successful signup\n    } catch (error) {\n      console.error('Error signing up:', error);\n    }\n  };\n\n  const handleLogout = async () => {\n    try {\n      await axios.post(`${API_BASE_URL}/logout`);\n      setAuthenticated(false);\n    } catch (error) {\n      console.error('Error logging out:', error);\n    }\n  };\n\n  const handleAddTodo = async (newTodo) => {\n    try {\n      const response = await axios.post(`${API_BASE_URL}/todos`, newTodo);\n      setTodos([...todos, response.data]);\n    } catch (error) {\n      console.error('Error adding todo:', error);\n    }\n  };\n\n  const handleDeleteTodo = async (id) => {\n    try {\n      await axios.delete(`${API_BASE_URL}/todos/${id}`);\n      setTodos(todos.filter(todo => todo.id !== id));\n    } catch (error) {\n      console.error('Error deleting todo:', error);\n    }\n  };\n\n  const handleUpdateTodo = async (id, updatedTodo) => {\n    try {\n      const response = await axios.put(`${API_BASE_URL}/todos/${id}`, updatedTodo);\n      const updatedTodos = todos.map(todo => (todo.id === id ? response.data : todo));\n      setTodos(updatedTodos);\n    } catch (error) {\n      console.error('Error updating todo:', error);\n    }\n  };\n\n  return (\n    <div className=\"App\" align-items=\"center\">\n      <h1>Todo App</h1>\n      {authenticated ? (\n        <>\n          <button onClick={handleLogout}>Logout</button>\n          <TodoForm onSubmit={handleAddTodo} />\n          <TodoList todos={todos} onDelete={handleDeleteTodo} onUpdate={handleUpdateTodo} />\n        </>\n      ) : (\n        showSignup ? ( // Conditionally render signup form\n          <SignupForm onSignup={handleSignup} />\n        ) : (\n          <LoginForm onLogin={handleLogin} />\n        )\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}